{"version":3,"file":"quote-section-140dfb8b.js","sources":["../../src/js/mobile-menu.js","../../src/js/modal-window.js","../../src/js/quote-section.js"],"sourcesContent":["const refs = {\n  mobileMenu: document.querySelector('[data-mobile-menu]'),\n  mobileMenuBtnClose: document.querySelector('[data-mobile-menu-close]'),\n  mobileMenuBtnOpen: document.querySelector('[data-modal-open]'),\n};\n\nif (refs.mobileMenu.classList.contains('is-hidden')) {\n  refs.mobileMenuBtnOpen.addEventListener('click', onMobileMenuBtnOpenClick);\n}\n\nfunction onMobileMenuBtnOpenClick() {\n  refs.mobileMenu.classList.remove('is-hidden');\n  refs.mobileMenuBtnClose.addEventListener('click', onMobileMenuBtnCloseClick);\n  refs.mobileMenuBtnOpen.removeEventListener('click', onMobileMenuBtnOpenClick);\n}\n\nfunction onMobileMenuBtnCloseClick() {\n  refs.mobileMenu.classList.add('is-hidden');\n  refs.mobileMenuBtnClose.removeEventListener(\n    'click',\n    onMobileMenuBtnCloseClick\n  );\n  refs.mobileMenuBtnOpen.addEventListener('click', onMobileMenuBtnOpenClick);\n}\n","import axios from \"axios\";\n\nconst modalWindow = document.querySelector('.container-for-modal');\n\nexport const openOnClick = (id) => {\n    try {\n        const exerciseId = id;\n\n        axios({\n            method: 'get',\n            url: `https://energyflow.b.goit.study/api/exercises/${exerciseId}`,\n        })\n        .then((response) => {\n            renderModalMarkup(response.data);\n            getRatingColoring(response.data.rating);\n            checkObjectInLocalStorage(response.data)\n        })\n        .catch((error) => {\n            console.log(error);\n        })\n        .finally(() => {\n            modalWindow.removeEventListener('click', openOnClick);\n            document.addEventListener('click', closeModalOnClick);\n            document.addEventListener('keydown', closeModalOnEsc);\n        });\n    } catch (error) {\n        console.error(error);\n    }\n}\n\nfunction renderModalMarkup(exercise = {}) {\n    const markup = `\n        <div class=\"overlay\">\n            <div class=\"modal-window\">\n                <span class=\"modal-close-button\">x</span>\n                <div class=\"modal-photo\">\n                    <!-- Photo -->\n                    <img src=\"${exercise.gifUrl}\" alt=\"${exercise.name}\">\n                </div>\n                <!-- Info -->\n                <div class=\"modal-info\">\n                    <h1 class=\"modal-title\">${exercise.name}</h1>\n                    <div class=\"rating\">\n                        <!-- Rating -->\n                        <p class=\"rating-text\">${exercise.rating}</p>\n                        <div class=\"stars-outer\">\n                            <div class=\"stars-inner\"></div>\n                        </div>\n                    </div>\n                    <div class=\"modal-line\"></div>\n                    <div class=\"section-info\">\n                        <p class=\"item-info\">Target<br><b>${exercise.target}</b></p>\n                        <p class=\"item-info\">Body Part<br><b>${exercise.bodyPart}</b></p>\n                        <p class=\"item-info\">Equipment<br><b>${exercise.equipment}</b></p>\n                        <p class=\"item-info\">Popular<br><b>${exercise.popularity}</b></p>\n                        <p class=\"item-info\">Burned calories<br><b>${exercise.burnedCalories}/${exercise.time} min</b></p>\n                    </div>\n                    \n                    <div class=\"modal-line\"></div>\n                    <p class=\"modal-text\">${exercise.description}</p>\n                    <div class=\"modal-buttons\">\n                        <button class=\"modal-button-favorites\"><span class=\"btn-text\">Add to favorites</span><span class=\"heart\">&#9825;</span></button>\n                        <button class=\"modal-button-rating\" id=\"modal2\">Give a rating</button>\n                    </div>\n                </div>\n            </div>\n        </div>`;\n    \n    modalWindow.innerHTML = markup;\n}\n\nfunction getRatingColoring(exerciseRating) {\n    const starPersentage = (exerciseRating / 5) * 100;\n    const starPersentageRounded = `${Math.round(starPersentage / 10) * 10}%`;\n\n    document.querySelector('.rating .stars-inner').style.width = starPersentageRounded;\n}\n\n// close\n\nfunction closeModalOnClick(e) {\n    if (e.target.classList.contains('modal-close-button')) {\n        closeModal();\n    } else if (e.target.classList.contains('overlay')) {\n        closeModal();\n    }\n}\n\nfunction closeModalOnEsc(e) {\n    if (e.key === 'Escape') {\n        closeModal();\n    }\n}\n\nfunction closeModal() {\n    modalWindow.innerHTML = '';\n    document.removeEventListener('keydown', closeModalOnEsc);\n    document.removeEventListener('click', closeModalOnClick);\n}\n\n// favorites\n\nfunction checkObjectInLocalStorage(data) {\n    const localStorageData = localStorage.getItem('favorites') || '[]'; \n    const newObject = data;\n\n    let objects;\n\n    try {\n        objects = JSON.parse(localStorageData);\n    } catch (error) {\n        console.log(error);\n        objects = [];\n    }\n\n    if (!Array.isArray(objects)) {\n        objects = [];\n    }\n\n    const favoritesBtn = modalWindow.querySelector('.modal-button-favorites');\n    const favoritesBtnName = favoritesBtn.querySelector('.btn-text');\n\n    const deleteObj = () => {\n        const filteredObjects = objects.filter((obj) => obj._id !== newObject._id);\n\n        localStorage.setItem('favorites', JSON.stringify(filteredObjects));\n        favoritesBtnName.textContent = \"Add to favorites\";\n\n        favoritesBtn.removeEventListener('click', deleteObj);\n        favoritesBtn.addEventListener('click', addObj);\n    };\n\n    const addObj = () => {\n        const foundObject = objects.find((obj) => obj._id === newObject._id);\n\n        if (!foundObject) {\n            objects.push(newObject);\n\n            localStorage.setItem('favorites', JSON.stringify(objects));\n            favoritesBtnName.textContent = 'Remove from';\n            \n            favoritesBtn.removeEventListener('click', addObj);\n            favoritesBtn.addEventListener('click', deleteObj);\n        }\n    };\n\n    favoritesBtn.removeEventListener('click', deleteObj);\n    favoritesBtn.removeEventListener('click', addObj);\n\n    const foundObject = objects.find((obj) => obj._id === newObject._id);\n\n    if (foundObject) {\n        favoritesBtn.addEventListener('click', deleteObj);\n        favoritesBtnName.textContent = 'Remove from';\n    } else {\n        favoritesBtn.addEventListener('click', addObj);\n        favoritesBtnName.textContent = \"Add to favorites\";\n    }\n}","import axios from 'axios';\nconst quoteText = document.querySelector('.quote-text');\nconst quoteAuthor = document.querySelector('.quote-author');\n\nconst getQuote = async () => {\n  try {\n    const response = await axios.get(\n      'https://energyflow.b.goit.study/api/quote'\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nconst saveQuoteToLocalStorage = (quote, author) => {\n  const quoteInformation = {\n    quote: quote,\n    author: author,\n    date: new Date().toDateString(),\n  };\n  localStorage.setItem('quote-data', JSON.stringify(quoteInformation));\n};\n\nconst getQuoteFromLocalStorage = () => {\n  const storedQuoteInformation = localStorage.getItem('quote-data');\n  if (storedQuoteInformation) {\n    const { date, quote, author } = JSON.parse(storedQuoteInformation);\n    if (date === new Date().toDateString()) {\n      setQuote(quote, author);\n      return;\n    }\n  }\n  fetchQuote();\n};\n\nconst setQuote = (quote, author) => {\n  quoteText.textContent = quote;\n  quoteAuthor.textContent = author;\n};\n\nconst fetchQuote = async () => {\n  const quoteData = await getQuote();\n  setQuote(quoteData.quote, quoteData.author);\n  saveQuoteToLocalStorage(quoteData.quote, quoteData.author);\n};\n\ngetQuoteFromLocalStorage();\n"],"names":["refs","onMobileMenuBtnOpenClick","onMobileMenuBtnCloseClick","modalWindow","openOnClick","id","axios","response","renderModalMarkup","getRatingColoring","checkObjectInLocalStorage","error","closeModalOnClick","closeModalOnEsc","exercise","markup","exerciseRating","starPersentage","starPersentageRounded","e","closeModal","data","localStorageData","newObject","objects","favoritesBtn","favoritesBtnName","deleteObj","filteredObjects","obj","addObj","quoteText","quoteAuthor","getQuote","saveQuoteToLocalStorage","quote","author","quoteInformation","getQuoteFromLocalStorage","storedQuoteInformation","date","setQuote","fetchQuote","quoteData"],"mappings":"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"}