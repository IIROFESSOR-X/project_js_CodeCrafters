{"version":3,"file":"commonHelpers2.js","sources":["../src/js/favorites.js"],"sourcesContent":["import { openOnClick } from './modal-window';\n\nlet savedCards;\nlet parsedCards;\n\nconst ref = {\n  favoritesList: document.querySelector('.favorites-list'),\n  gymInfo: document.querySelector('.gym-info'),\n};\n\nwindow.addEventListener('load', windowLoad);\nref.favoritesList.addEventListener('click', onDeleteBtnClick);\nref.favoritesList.addEventListener('click', onStartBtnClick);\n\nfunction onStartBtnClick(event) {\n  if (event.target.dataset.action !== 'start') {\n    return;\n  }\n\n  const idCardforStart = event.target.dataset.id;\n\n  if (idCardforStart) {\n    openOnClick(idCardforStart);\n  }\n}\n\nfunction parsingCards() {\n  savedCards = localStorage.getItem('favorites');\n  try {\n    parsedCards = JSON.parse(savedCards);\n  } catch (error) {\n    console.log(error);\n    parsedCards = [];\n  }\n}\n\nfunction onDeleteBtnClick(event) {\n  if (event.target.dataset.action !== 'delete') {\n    return;\n  }\n\n  const idCardforDelete = event.target.dataset.id;\n  // console.log(idCardforDelete);\n  const findCard = parsedCards.find(({ _id }) => _id === idCardforDelete);\n  // console.log(findCard);\n  // console.log(indexOfCard);\n  const indexOfCard = parsedCards.indexOf(findCard);\n  parsedCards.splice(indexOfCard, 1);\n  localStorage.setItem('favorites', JSON.stringify(parsedCards));\n\n  if (!parsedCards.length) {\n    ref.gymInfo.classList.remove('is-hidden');\n  }\n  renderFavorites();\n}\n\nfunction windowLoad() {\n  parsingCards();\n  if (parsedCards.length) {\n    ref.gymInfo.classList.add('is-hidden');\n    renderFavorites();\n  } else {\n    ref.gymInfo.classList.remove('is-hidden');\n  }\n}\n\nfunction renderFavorites() {\n  const favoritesCardString = parsedCards.reduce(\n    (\n      html,\n      { _id, rating, name: names, burnedCalories, time, bodyPart, target }\n    ) => {\n      return (\n        html +\n        `<li class=\"exer-card-item\">\n  <div class=\"exer-card-background\">\n    <div class=\"card-workout-wrapper\">\n      <p class=\"exer-workout-text\">WORKOUT</p>\n      <button class=\"card-btn-delete\" data-action=\"delete\" data-id=\"${_id}\">\n        <svg class=\"card-btn-delete-svg\" width=\"16\" height=\"16\" data-action=\"delete\" data-id=\"${_id}\"\">\n          <use xlink:href=\"/img/symbol-defs.svg#icon-trash\" data-action=\"delete\" data-id=\"${_id}\"></use>\n        </svg>\n      </button>\n      <button class=\"card-start-button\" data-action=\"start\" data-id=\"${_id}\">\n        Start\n        <svg class=\"card-arrow-svg\" width=\"14\" height=\"14\" data-action=\"start\" data-id=\"${_id}\">\n          <use\n            xlink:href=\"/img/symbol-defs.svg#icon-arrow\" data-action=\"start\"\n            data-id=\"${_id}\"\n          ></use>\n        </svg>\n      </button>\n    </div>\n    <div class=\"card-runing-men-wrapper\">\n      <svg class=\"card-runing-men-svg\" width=\"24\" height=\"24\">\n        <use xlink:href=\"/img/symbol-defs.svg#icon-running-men\"></use>\n      </svg>\n      <span class=\"card-name-traning\">${names} </span>\n    </div>\n    <p class=\"card-burned-calories-text\">\n      Burned calories:\n      <span class=\"card-burned-calories-span\"\n        >${burnedCalories} / ${time} min</span\n      >\n    </p>\n\n    <p class=\"card-body-part-text\">\n      Body part:\n      <span class=\"card-burned-calories-span\">${bodyPart}</span>\n    </p>\n    <p class=\"card-target-text\">\n      Target:\n      <span class=\"card-burned-calories-span\">${target}</span>\n    </p>\n  </div>\n</li>`\n      );\n    },\n    ''\n  );\n\n  ref.favoritesList.innerHTML = favoritesCardString;\n}\n"],"names":["savedCards","parsedCards","ref","windowLoad","onDeleteBtnClick","onStartBtnClick","event","idCardforStart","openOnClick","parsingCards","error","idCardforDelete","findCard","_id","indexOfCard","renderFavorites","favoritesCardString","html","rating","names","burnedCalories","time","bodyPart","target"],"mappings":"2FAEA,IAAIA,EACAC,EAEJ,MAAMC,EAAM,CACV,cAAe,SAAS,cAAc,iBAAiB,EACvD,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEA,OAAO,iBAAiB,OAAQC,CAAU,EAC1CD,EAAI,cAAc,iBAAiB,QAASE,CAAgB,EAC5DF,EAAI,cAAc,iBAAiB,QAASG,CAAe,EAE3D,SAASA,EAAgBC,EAAO,CAC9B,GAAIA,EAAM,OAAO,QAAQ,SAAW,QAClC,OAGF,MAAMC,EAAiBD,EAAM,OAAO,QAAQ,GAExCC,GACFC,EAAYD,CAAc,CAE9B,CAEA,SAASE,GAAe,CACtBT,EAAa,aAAa,QAAQ,WAAW,EAC7C,GAAI,CACFC,EAAc,KAAK,MAAMD,CAAU,CACpC,OAAQU,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBT,EAAc,CAAA,CACf,CACH,CAEA,SAASG,EAAiBE,EAAO,CAC/B,GAAIA,EAAM,OAAO,QAAQ,SAAW,SAClC,OAGF,MAAMK,EAAkBL,EAAM,OAAO,QAAQ,GAEvCM,EAAWX,EAAY,KAAK,CAAC,CAAE,IAAAY,KAAUA,IAAQF,CAAe,EAGhEG,EAAcb,EAAY,QAAQW,CAAQ,EAChDX,EAAY,OAAOa,EAAa,CAAC,EACjC,aAAa,QAAQ,YAAa,KAAK,UAAUb,CAAW,CAAC,EAExDA,EAAY,QACfC,EAAI,QAAQ,UAAU,OAAO,WAAW,EAE1Ca,GACF,CAEA,SAASZ,GAAa,CACpBM,IACIR,EAAY,QACdC,EAAI,QAAQ,UAAU,IAAI,WAAW,EACrCa,KAEAb,EAAI,QAAQ,UAAU,OAAO,WAAW,CAE5C,CAEA,SAASa,GAAkB,CACzB,MAAMC,EAAsBf,EAAY,OACtC,CACEgB,EACA,CAAE,IAAAJ,EAAK,OAAAK,EAAQ,KAAMC,EAAO,eAAAC,EAAgB,KAAAC,EAAM,SAAAC,EAAU,OAAAC,CAAQ,IAGlEN,EACA;AAAA;AAAA;AAAA;AAAA,sEAI8DJ,CAAG;AAAA,gGACuBA,CAAG;AAAA,4FACPA,CAAG;AAAA;AAAA;AAAA,uEAGxBA,CAAG;AAAA;AAAA,0FAEgBA,CAAG;AAAA;AAAA;AAAA,uBAGtEA,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAScM,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,WAKlCC,CAAc,MAAMC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAMaC,CAAQ;AAAA;AAAA;AAAA;AAAA,gDAIRC,CAAM;AAAA;AAAA;AAAA,OAMlD,EACJ,EAEErB,EAAI,cAAc,UAAYc,CAChC"}