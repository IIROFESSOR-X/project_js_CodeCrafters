{"version":3,"file":"commonHelpers2.js","sources":["../src/js/favorites.js"],"sourcesContent":["let savedCards = localStorage.getItem('favorites');\nlet parsedCards;\n\nconst ref = {\n  favoritesList: document.querySelector('.favorites-list'),\n  gymInfo: document.querySelector('.gym-info'),\n};\n\n\nwindow.addEventListener('load', windowLoad);\nref.favoritesList.addEventListener('click', onDeleteBtnClick);\n\n\nfunction parsingCards() {\n      try {\n parsedCards = JSON.parse(savedCards);\n    } catch (error) {\n        console.log(error);\n        parsedCards = [];\n  }\n  return parsedCards;\n}\n\n\nfunction onDeleteBtnClick(event) {\n\n  if (event.target.nodeName !== \"BUTTON\" || event.target.dataset.action !== \"delete\") {\n    return;\n  }\n\n  const idCardforDelete = event.target.dataset.id; \n  // console.log(idCardforDelete);\n  const findCard = parsedCards.find(({ _id }) => _id === idCardforDelete);\n  // console.log(findCard);\n  // console.log(indexOfCard);\n  const indexOfCard = parsedCards.indexOf(findCard);\n  parsedCards.splice(indexOfCard, 1); \n  localStorage.setItem('favorites', JSON.stringify(parsedCards));\n  renderFavorites();\n  // console.log('renderFavorites');\n}\n\n\nfunction windowLoad() {\n   parsingCards() \n  if (parsedCards.length) {\n    ref.gymInfo.classList.add('is-hidden');\n    renderFavorites()\n  } else {\n    ref.gymInfo.classList.remove('is-hidden');\n    }\n}\n\n\nfunction renderFavorites() {\n  const favoritesCardString = parsedCards.reduce(\n  (html, { _id, rating, name: names, burnedCalories, time, bodyPart, target }) => {\n    return (\n      html +\n`<li class=\"exer-card-item\">\n  <div class=\"exer-card-background\">\n    <div class=\"card-workout-wrapper\">\n      <p class=\"exer-workout-text\">WORKOUT</p>\n      <button class=\"card-btn-delete\" data-action=\"delete\" data-id=\"${_id}\">\n        <svg class=\"card-btn-delete-svg\" width=\"16\" height=\"16\">\n          <use xlink:href=\"/img/symbol-defs.svg#icon-trash\"></use>\n        </svg>\n      </button>\n      <button class=\"card-start-button\" data-id=\"${_id}\">\n        Start\n        <svg class=\"card-arrow-svg\" width=\"14\" height=\"14\" data-id=\"${_id}\">\n          <use\n            xlink:href=\"/img/symbol-defs.svg#icon-arrow\"\n            data-id=\"${_id}\"\n          ></use>\n        </svg>\n      </button>\n    </div>\n    <div class=\"card-runing-men-wrapper\">\n      <svg class=\"card-runing-men-svg\" width=\"24\" height=\"24\">\n        <use xlink:href=\"/img/symbol-defs.svg#icon-running-men\"></use>\n      </svg>\n      <span class=\"card-name-traning\">${names} </span>\n    </div>\n    <p class=\"card-burned-calories-text\">\n      Burned calories:\n      <span class=\"card-burned-calories-span\"\n        >${burnedCalories} / ${time} min</span\n      >\n    </p>\n\n    <p class=\"card-body-part-text\">\n      Body part:\n      <span class=\"card-burned-calories-span\">${bodyPart}</span>\n    </p>\n    <p class=\"card-target-text\">\n      Target:\n      <span class=\"card-burned-calories-span\">${target}</span>\n    </p>\n  </div>\n</li>`    );\n  },\n  ''\n);\n\nref.favoritesList.innerHTML = favoritesCardString;\n}\n\n\n\n\n\n\n\n"],"names":["savedCards","parsedCards","ref","windowLoad","onDeleteBtnClick","parsingCards","error","event","idCardforDelete","findCard","_id","indexOfCard","renderFavorites","favoritesCardString","html","rating","names","burnedCalories","time","bodyPart","target"],"mappings":"+EAAA,IAAIA,EAAa,aAAa,QAAQ,WAAW,EAC7CC,EAEJ,MAAMC,EAAM,CACV,cAAe,SAAS,cAAc,iBAAiB,EACvD,QAAS,SAAS,cAAc,WAAW,CAC7C,EAGA,OAAO,iBAAiB,OAAQC,CAAU,EAC1CD,EAAI,cAAc,iBAAiB,QAASE,CAAgB,EAG5D,SAASC,GAAe,CAClB,GAAI,CACTJ,EAAc,KAAK,MAAMD,CAAU,CAC/B,OAAQM,EAAO,CACZ,QAAQ,IAAIA,CAAK,EACjBL,EAAc,CAAA,CACnB,CACD,OAAOA,CACT,CAGA,SAASG,EAAiBG,EAAO,CAE/B,GAAIA,EAAM,OAAO,WAAa,UAAYA,EAAM,OAAO,QAAQ,SAAW,SACxE,OAGF,MAAMC,EAAkBD,EAAM,OAAO,QAAQ,GAEvCE,EAAWR,EAAY,KAAK,CAAC,CAAE,IAAAS,KAAUA,IAAQF,CAAe,EAGhEG,EAAcV,EAAY,QAAQQ,CAAQ,EAChDR,EAAY,OAAOU,EAAa,CAAC,EACjC,aAAa,QAAQ,YAAa,KAAK,UAAUV,CAAW,CAAC,EAC7DW,GAEF,CAGA,SAAST,GAAa,CACnBE,EAAc,EACXJ,EAAY,QACdC,EAAI,QAAQ,UAAU,IAAI,WAAW,EACrCU,EAAiB,GAEjBV,EAAI,QAAQ,UAAU,OAAO,WAAW,CAE5C,CAGA,SAASU,GAAkB,CACzB,MAAMC,EAAsBZ,EAAY,OACxC,CAACa,EAAM,CAAE,IAAAJ,EAAK,OAAAK,EAAQ,KAAMC,EAAO,eAAAC,EAAgB,KAAAC,EAAM,SAAAC,EAAU,OAAAC,KAE/DN,EACN;AAAA;AAAA;AAAA;AAAA,sEAIsEJ,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA,mDAKtBA,CAAG;AAAA;AAAA,sEAEgBA,CAAG;AAAA;AAAA;AAAA,uBAGlDA,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAScM,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,WAKlCC,CAAc,MAAMC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAMaC,CAAQ;AAAA;AAAA;AAAA;AAAA,gDAIRC,CAAM;AAAA;AAAA;AAAA,OAKpD,EACF,EAEAlB,EAAI,cAAc,UAAYW,CAC9B"}